В реальных графах, связанных, например, с моделированием транспортных сетей зачастую присутствуют довольно длинные линейные участки, представляющие собой последовательности смежных вершин степени 2. С точки зрения задач маршрутизации, а также и других задач, такие участки могут быть заменены одним ребром с весом, равным сумме весов отдельных ребер такого участка: 

A → B → C → D    преобразуется в A → D

В результате можно ожидать существенного уменьшения объемов обрабатываемых данных, упрощение топологии сети без потери качества моделирования. Ожидается также и сокращение времени вычислений при решении различных задач оптимизации транспортных потоков.

Итак, требуется:

Для графа, заданного списком ребер, разработать алгоритм и написать программу (С++, OCTAVE),  осуществляющего подобное свертывание. Результатом работы программы должен быть новый граф с замененными линейными участками, представленный своим списком ребер. Кодировка вершин не должна изменяться.

Примеры:

Пример 1:
Input file:
1 3 1           
3 5 1
5 7 1
7 9 1
9 2 1
1 4 2
4 6 2
6 8 2
8 10 2
10 2 2
2 1 3

Output file:
1 9 4
1 10 8
9 2 1
10 2 2
2 1 3


Пример 2:
Input file:
1 2 10.23
2 3 15.4
2 4 13.123
4 5 11.25
5 6 20.47
1 7 7.7
7 8 8.5
7 9 30.5
9 10 15.2
10 11 123.5

Output file:
1 2 10.23
1 7 7.7
2 3 15.4
2 6 44.843
7 8 8.5
7 11 169.2
